@model Tuple<IEnumerable<User>, IEnumerable<Hall> , IEnumerable<Join>>
@{
    Layout = "~/views/shared/_Adminlayout.cshtml";
}

    <head>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
     <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <link href="~/Content/bootstrap.css" rel="stylesheet" />

    <link href="https://cdn.datatables.net/1.10.15/css/dataTables.bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/responsive/2.1.1/css/responsive.bootstrap.min.css" rel="stylesheet" />

    <script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.15/js/dataTables.bootstrap4.min.js "></script>   </head>

            <!-- MAIN CONTENT-->
            <div class="main-content">
                <div class="section__content section__content--p30">
                    <div class="container-fluid">
                     @*   <div class="row">
                            <div class="col-md-12">
                                <div class="overview-wrap">
                                    <h2 class="title-1">overview</h2>
                                    <button class="au-btn au-btn-icon au-btn--blue">
                                        <i class="zmdi zmdi-plus"></i>add item</button>
                                </div>
                            </div>
                        </div>*@
                        <div class="row m-t-25">
                            <div class="col-sm-6 col-lg-3">
                                <div class="overview-item overview-item--c1">
                                    <div class="overview__inner">
                                        <div class="overview-box clearfix">
                                            <div class="icon">
                                                <i class="zmdi zmdi-account-o"></i>
                                            </div>
                                            <div class="text">
                                                <h2>@ViewBag.adminId
                                               @ViewBag.adminname</h2>
                                                <span>members online</span>
                                            </div>
                                        </div>
                                      @*  <div class="overview-chart">
                                            <canvas id="widgetChart1"></canvas>
                                        </div>*@
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-lg-3">
                                <div class="overview-item overview-item--c2">
                                    <div class="overview__inner">
                                        <div class="overview-box clearfix">
                                            <div class="icon">
                                                <i class="zmdi zmdi-account-o"></i>
                                            </div>
                                            <div class="text">
                                                 <span>Number Of Users</span>
                                                <h2>@ViewBag.users</h2>
                                               
                                            </div>
                                        </div>
                                        @*<div class="overview-chart">
                                            <canvas id="widgetChart2"></canvas>
                                        </div>*@
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-lg-3">
                                <div class="overview-item overview-item--c3">
                                    <div class="overview__inner">
                                        <div class="overview-box clearfix">
                                            <div class="icon">
                                                <i class="zmdi zmdi-calendar-note"></i>
                                            </div>
                                            <div class="text">
                                                 <span>hall is booking</span>
                                                <h2>@ViewBag.hall</h2>
                                               
                                            </div>
                                        </div>
                                       @* <div class="overview-chart">
                                            <canvas id="widgetChart3"></canvas>
                                        </div>*@
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6 col-lg-3">
                                <div class="overview-item overview-item--c4">
                                    <div class="overview__inner">
                                        <div class="overview-box clearfix">
                                            <div class="icon">
                                                <i class="zmdi zmdi-calendar-note"></i>
                                            </div>
                                            <div class="text">
                                                <span>Number Of Hall</span>
                                                <h2>@ViewBag.hall1</h2>
                                                
                                            </div>
                                        </div>
                                       @* <div class="overview-chart">
                                            <canvas id="widgetChart4"></canvas>
                                        </div>*@
                                    </div>
                                </div>
                            </div>
                        </div>
                       <div class="row">
                           <div class="col-lg-6">
                             
                               <div>
                                    <canvas id="myChart"></canvas>
                                </div>
                                
                           </div>

                       </div>
                    @*    <div class="row">
                            <div class="col-lg-6">
                                <div class="au-card recent-report">
                                    <div class="au-card-inner">
                                        <h3 class="title-2">recent reports</h3>
                                        <div class="chart-info">
                                            <div class="chart-info__left">
                                                <div class="chart-note">
                                                    <span class="dot dot--blue"></span>
                                                    <span>products</span>
                                                </div>
                                                <div class="chart-note mr-0">
                                                    <span class="dot dot--green"></span>
                                                    <span>services</span>
                                                </div>
                                            </div>
                                            <div class="chart-info__right">
                                                <div class="chart-statis">
                                                    <span class="index incre">
                                                        <i class="zmdi zmdi-long-arrow-up"></i>25%</span>
                                                    <span class="label">products</span>
                                                </div>
                                                <div class="chart-statis mr-0">
                                                    <span class="index decre">
                                                        <i class="zmdi zmdi-long-arrow-down"></i>10%</span>
                                                    <span class="label">services</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="recent-report__chart">
                                            <canvas id="recent-rep-chart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="au-card chart-percent-card">
                                    <div class="au-card-inner">
                                        <h3 class="title-2 tm-b-5">char by %</h3>
                                        <div class="row no-gutters">
                                            <div class="col-xl-6">
                                                <div class="chart-note-wrap">
                                                    <div class="chart-note mr-0 d-block">
                                                        <span class="dot dot--blue"></span>
                                                        <span>products</span>
                                                    </div>
                                                    <div class="chart-note mr-0 d-block">
                                                        <span class="dot dot--red"></span>
                                                        <span>services</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xl-6">
                                                <div class="percent-chart">
                                                    <canvas id="percent-chart"></canvas>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>*@
                        <div class="row">
                            <div class="col-md-11">
                                <h2 class="title-1 m-b-25">Users Register Details</h2>
                                <div class="table-responsive table--no-card m-b-40">
                                    <table class="table table-borderless table-striped table-earning">
                                        <thead>
                                            <tr>
                                                <th>First Name</th>
                                                <th>Last Name</th>
                                                <th>phone number</th>
                                                 <th>Email</th>
                                                  <th>Address</th>
                                                
                                                @*<th class="text-right">price</th>
                                                <th class="text-right">quantity</th>
                                                <th class="text-right">total</th>*@
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @foreach (var item in Model.Item1)
                                             {
                                    
                            
                                            <tr>
                                                <td>@item.FirstName</td>
                                                <td>@item.LastName</td>
                                                <td>@item.Phone</td>
                                                 <td>@item.Email</td>
                                                  <td>@item.Address</td>
                                                
                                            </tr>
                                              }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                             <div class="row">
                                 <div class="col-md-11">
                                   <form asp-action="Index" method="post">
                                       <label for="startDate">Start date</label>
                                       <input  type="date" class="form-control" name="startDate" placeholder="Start Date" />
                                        <label for="endDate">End Date</label>
                                       <input  type="date" class="form-control" name="endDate" placeholder="End Date" />
                                       <br />
                                       <button type="submit" class="btn btn-danger"> search</button>
                                   </form>
                               </div>
                           </div>
                           <br />
                           <br />
                             <div class="row">
                            <div class="col-md-11">
                                <h2 class="title-1 m-b-25">Users Resirvation Details</h2>
                                <div class="table-responsive table--no-card m-b-40">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Start Date</th>
                                                <th>End Date</th>
                                                <th>Is Approved </th>
                                                 <th>Hall Name</th>
                                                  <th>User Name</th>
                                                  <th>Hall Address</th>
                                                
                                                @*<th class="text-right">price</th>
                                                <th class="text-right">quantity</th>
                                                <th class="text-right">total</th>*@
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @foreach (var item in Model.Item3)
                                             {
                                    
                            
                                            <tr>
                                                <td>@item.userhall.StartDate</td>
                                                <td>@item.userhall.EndDate</td>
                                                <td>@item.userhall.IsApproved</td>
                                                 <td>@item.hall.Name</td>
                                                  <td>@item.user.FirstName</td>
                                                  @if (item.hall.AddressId!=null)
                                            {
                                                <td>@item.hall.Address.City</td>
                                            }else
                                            {
                                                 <td>No Location</td>
                                           }
                                                  
                                                
                                            </tr>
                                              }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                           @* <div class="col-lg-3">
                                <h2 class="title-1 m-b-25">Top countries</h2>
                                <div class="au-card au-card--bg-blue au-card-top-countries m-b-40">
                                    <div class="au-card-inner">
                                        <div class="table-responsive">
                                            <table class="table table-top-countries">
                                                <tbody>
                                                    <tr>
                                                        <td>United States</td>
                                                        <td class="text-right">$119,366.96</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Australia</td>
                                                        <td class="text-right">$70,261.65</td>
                                                    </tr>
                                                    <tr>
                                                        <td>United Kingdom</td>
                                                        <td class="text-right">$46,399.22</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Turkey</td>
                                                        <td class="text-right">$35,364.90</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Germany</td>
                                                        <td class="text-right">$20,366.96</td>
                                                    </tr>
                                                    <tr>
                                                        <td>France</td>
                                                        <td class="text-right">$10,366.96</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Australia</td>
                                                        <td class="text-right">$5,366.96</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Italy</td>
                                                        <td class="text-right">$1639.32</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>*@
                        </div>
                       
                     </div>
                </div>
            </div>
           </div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
   var x = @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(ViewBag.hname));
        var y = @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(ViewBag.count));
  const data = {
        labels: x,
        datasets: [{
            label: 'Halls Reservations',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: y,
        }]
    };

  const config = {
    type: 'bar',
    data: data,
    options: {}
  };
</script>
<script>
  const myChart = new Chart(
    document.getElementById('myChart'),
    config
  );
</script>